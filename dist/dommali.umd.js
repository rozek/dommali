!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self).dommali=e()}(this,(function(){"use strict";var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};function e(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function u(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,u)}c((r=r.apply(t,e||[])).next())}))}function n(t,e){var n,r,i,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},s=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return s.next=u(0),s.throw=u(1),s.return=u(2),"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function u(u){return function(c){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,u[0]&&(o=0)),o;)try{if(n=1,r&&(i=2&u[0]?r.return:u[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,u[1])).done)return i;switch(r=0,i&&(u=[2&u[0],i.value]),u[0]){case 0:case 1:i=u;break;case 4:return o.label++,{value:u[1],done:!1};case 5:o.label++,r=u[1],u=[0];continue;case 7:u=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==u[0]&&2!==u[0])){o=0;continue}if(3===u[0]&&(!i||u[1]>i[0]&&u[1]<i[3])){o.label=u[1];break}if(6===u[0]&&o.label<i[1]){o.label=i[1],i=u;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(u);break}i[2]&&o.ops.pop(),o.trys.pop();continue}u=e.call(t,o)}catch(t){u=[6,t],r=0}finally{n=i=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,c])}}}function r(t){return"number"==typeof t||t instanceof Number}function i(t){return"string"==typeof t||t instanceof String}"function"==typeof SuppressedError&&SuppressedError;var o=/^[a-z$_][a-z$_0-9]*([-.:][a-z$_0-9]+)*@.*$/i;function s(t){return("string"==typeof t||t instanceof String)&&o.test(t)}var u=Array.isArray;function c(t){return Array.prototype.slice.call(t)}var a=Object.prototype.hasOwnProperty;function l(t){for(var e in t)if(a.call(t,e))return!1;return!0}function h(t){return t.replace(/-[a-z]/gi,(function(t){return t[1].toUpperCase()}))}var f={};function p(t){return t.startsWith("#")?'[id="'+t.slice(1)+'"]':t}var d=function(){function t(){this.Subjects=[]}return t.ready=function(t){return b&&!v?t():y.push(t),this},t.textWidth=function(e,n){if(b){if(null==g._auxiliarySpan){var r=document.createElement("span");r.style.visibility="hidden",document.body.appendChild(r),g._auxiliarySpan=S(r)}var i=g._auxiliarySpan;if(i.css({width:"auto","min-width":0,"max-width":"none",margin:0,padding:0,border:"none",font:"normal","white-space":"normal","letter-spacing":"normal","word-spacing":"normal","text-indent":0,"text-transform":"none"}),n){var o;switch(!0){case"object"==typeof n&&(Object.getPrototypeOf(n)===Object.prototype||null==Object.getPrototypeOf(n)):o=n;break;case n instanceof t:case n instanceof Element:o=window.getComputedStyle(S(n).subject(0));break;default:throw new TypeError("DOMMaLi instance, HTML element or settings expected")}g._relevantSettings_for_textWidth.forEach((function(t){var e=o[t];null!=e&&i.css(t,e)}))}return i.text(e).width()}return NaN},t.textHeight=function(e,n){if(b){if(null==g._auxiliaryDiv){var r=document.createElement("div");r.style.visibility="hidden",document.body.appendChild(r),g._auxiliaryDiv=S(r)}var i=g._auxiliaryDiv;if(i.css({width:"auto","min-width":0,"max-width":"none",margin:0,padding:0,border:"none",font:"normal","white-space":"normal","letter-spacing":"normal","word-spacing":"normal","text-indent":0,"text-transform":"none"}),n){var o;switch(!0){case"object"==typeof n&&(Object.getPrototypeOf(n)===Object.prototype||null==Object.getPrototypeOf(n)):o=n;break;case n instanceof t:case n instanceof Element:o=window.getComputedStyle(S(n).subject(0));break;default:throw new TypeError("DOMMaLi instance, HTML element or settings expected")}g._relevantSettings_for_textHeight.forEach((function(t){var e=o[t];null!=e&&i.css(t,e)}))}return i.text(e).height()}return NaN},t.extraParametersOfEvent=function(t){var e=t._extraParameters;return Array.isArray(e)?e.slice():[]},Object.defineProperty(t.prototype,"length",{get:function(){return this.Subjects.length},enumerable:!1,configurable:!0}),t.prototype.size=function(){return this.Subjects.length},t.prototype.isEmpty=function(){return 0===this.Subjects.length},t.prototype.subjects=function(){return this.Subjects.slice()},t.prototype.subject=function(t){return this.Subjects[t]},t.prototype.indexOf=function(e){return e instanceof t&&null==(e=e.Subjects[0])?-1:this.Subjects.indexOf(e)},t.prototype.slice=function(t,e){return new g(this.Subjects.slice(t,e))},t.prototype.first=function(){return new g(this.Subjects[0])},t.prototype.last=function(){return new g(this.Subjects[this.Subjects.length-1])},t.prototype.eq=function(t){return new g(this.Subjects[t])},t.prototype.forEach=function(t){var e=this;return this.Subjects.forEach((function(n,r){t(new g(n),r,e)})),this},t.prototype.filter=function(t){var e=this;return new g("function"==typeof t?this.Subjects.filter((function(n,r){return t(new g(n),r,e)})):this.Subjects.filter((function(e){return e.matches(p(t))})))},t.prototype.tagName=function(){return 0===this.Subjects.length?void 0:this.Subjects[0].tagName.toLowerCase()},t.prototype.matches=function(t){return this.Subjects.every((function(e){return e.matches(p(t))}))},t.prototype.is=function(t){switch(!0){case i(t):return this.matches(p(t));case t instanceof g:var e=t;return this.Subjects.length===e.Subjects.length&&this.Subjects.every((function(t,n){return e.Subjects[n]===t}));case t instanceof Element:return 1===this.Subjects.length&&this.Subjects[0]===t;default:return!1}},t.prototype.find=function(t){return new g(0===this.Subjects.length?void 0:c(this.Subjects[0].querySelectorAll(p(t))))},t.prototype.findFirst=function(t){return new g(0===this.Subjects.length?void 0:this.Subjects[0].querySelector(p(t)))},t.prototype.parent=function(){return new g(0===this.Subjects.length?void 0:this.Subjects[0].parentElement)},t.prototype.closest=function(t){return new g(0===this.Subjects.length?void 0:this.Subjects[0].closest(p(t)))},t.prototype.isAttached=function(){return 0!==this.Subjects.length&&document.contains(this.Subjects[0])},t.prototype.contains=function(t){var e=this;return 0!==this.Subjects.length&&0!==t.Subjects.length&&t.Subjects.every((function(t){return e.Subjects[0].contains(t)}))},t.prototype.children=function(t){var e=0===this.Subjects.length?[]:c(this.Subjects[0].children);return null!=t&&(e=e.filter((function(e){return e.matches(p(t))}))),new g(e)},t.prototype.firstChild=function(t){return 0===this.Subjects.length?new g:new g(null==t?this.Subjects[0].firstElementChild:c(this.Subjects[0].children).find((function(e){return e.matches(p(t))})))},t.prototype.lastChild=function(t){if(0===this.Subjects.length)return new g;if(null==t)return new g(this.Subjects[0].lastElementChild);for(var e=c(this.Subjects[0].children),n=e.length-1;n>=0;n--)if(e[n].matches(p(t)))return new g(e[n]);return new g},t.prototype.prev=function(t){if(0===this.Subjects.length)return new g;if(null==t)return new g(this.Subjects[0].previousElementSibling);for(var e=this.Subjects[0].previousElementSibling;null!=e;){if(e.matches(p(t)))return new g(e);e=e.previousElementSibling}return new g},t.prototype.next=function(t){if(0===this.Subjects.length)return new g;if(null==t)return new g(this.Subjects[0].nextElementSibling);for(var e=this.Subjects[0].nextElementSibling;null!=e;){if(e.matches(p(t)))return new g(e);e=e.nextElementSibling}return new g},t.prototype.positionInViewport=function(){if(0!==this.Subjects.length){var t=this.Subjects[0].getBoundingClientRect();return{left:t.left,top:t.top}}},t.prototype.positionInParent=function(){if(0!==this.Subjects.length&&null!=this.Subjects[0].parentElement&&this.Subjects[0]instanceof HTMLElement){var t=this.Subjects[0];return t instanceof HTMLElement?{left:t.offsetLeft,top:t.offsetTop}:void 0}},t.prototype.positionOnPage=function(){if(0!==this.Subjects.length){var t=this.Subjects[0].getBoundingClientRect();return{left:t.left+document.body.scrollLeft,top:t.top+document.body.scrollTop}}},t.prototype.width=function(t){if(void 0===t){var e=this.Subjects[0];return e instanceof HTMLElement?e.offsetWidth:void 0}return this.Subjects.forEach((function(e){e instanceof HTMLElement&&(e.style.width=t+"px")})),this},t.prototype.height=function(t){if(void 0===t){var e=this.Subjects[0];return e instanceof HTMLElement?e.offsetHeight:void 0}return this.Subjects.forEach((function(e){e instanceof HTMLElement&&(e.style.height=t+"px")})),this},t.prototype.innerWidth=function(){return 0===this.Subjects.length?void 0:this.Subjects[0].clientWidth},t.prototype.innerHeight=function(){return 0===this.Subjects.length?void 0:this.Subjects[0].clientHeight},t.prototype.renderWidth=function(){return 0===this.Subjects.length?void 0:this.Subjects[0].getBoundingClientRect().width},t.prototype.renderHeight=function(){return 0===this.Subjects.length?void 0:this.Subjects[0].getBoundingClientRect().height},t.prototype.scrollLeft=function(t){return void 0===t?0===this.Subjects.length?void 0:this.Subjects[0].scrollLeft:(this.Subjects.forEach((function(e){e.scrollLeft=t})),this)},t.prototype.scrollTop=function(t){return void 0===t?0===this.Subjects.length?void 0:this.Subjects[0].scrollTop:(this.Subjects.forEach((function(e){e.scrollTop=t})),this)},t.prototype.scrollWidth=function(){return 0===this.Subjects.length?void 0:this.Subjects[0].scrollWidth},t.prototype.scrollHeight=function(){return 0===this.Subjects.length?void 0:this.Subjects[0].scrollHeight},t.prototype.scrollTo=function(t,e,n){void 0===n&&(n="auto");var r={left:t,top:e,behavior:n};return this.Subjects.forEach((function(t){t.scrollTo(r)})),this},t.prototype.show=function(){return this.Subjects.forEach((function(t){if(t instanceof HTMLElement){var e=getComputedStyle(t);if("none"!==e.display)return;null!=t._preservedDisplay&&(t.style.display=t._preservedDisplay),"none"===e.display&&(t.style.display=function(t){if(t in f)return f[t];var e=document.createElement(t);document.body.appendChild(e);var n=getComputedStyle(e).display;return"none"===n&&(n="block"),f[t]=n,document.body.removeChild(e),n}(t.tagName))}})),this},t.prototype.hide=function(){return this.Subjects.forEach((function(t){if(t instanceof HTMLElement){if("none"===getComputedStyle(t).display)return;t._preservedDisplay=t.style.display,t.style.display="none"}})),this},t.prototype.hasClass=function(t){if(0===this.Subjects.length)return!1;if(""===(t=t.trim().replace(/\s+/g," ")))return!1;var e=this.Subjects[0].classList;return t.split(" ").every((function(t){return e.contains(t)}))},t.prototype.addClass=function(t){return this._processClasses(t,"add")},t.prototype.toggleClass=function(t){return this._processClasses(t,"toggle")},t.prototype.removeClass=function(t){return this._processClasses(t,"remove")},t.prototype._processClasses=function(t,e){if(0===this.Subjects.length)return this;if(""===(t=t.trim().replace(/\s+/g," ")))return this;var n=t.split(" ");return this.Subjects.forEach((function(t){var r=t.classList;n.forEach((function(t){return r[e](t)}))})),this},t.prototype.append=function(t){return this._insert(t,"append")},t.prototype.prepend=function(t){return this._insert(t,"prepend")},t.prototype.insertAfter=function(t){return t._insert(this,"after"),this},t.prototype.insertBefore=function(t){return t._insert(this,"before"),this},t.prototype._insert=function(e,n){var r=this;if(0===this.Subjects.length)return this;var o=e instanceof t?e:new g(e);return 0===o.Subjects.length||(i(e)&&e.startsWith("<")?this.Subjects.forEach((function(t,i){t[n].apply(t,o.Subjects),i<r.Subjects.length-1&&(o=new g(e))})):this.Subjects[0][n].apply(this.Subjects[0],o.Subjects)),this},t.prototype.replaceWith=function(e){var n=this;if(0!==this.Subjects.length){var r=e instanceof t?e:new g(e);0!==r.Subjects.length?i(e)&&e.startsWith("<")?this.Subjects.forEach((function(t,i){t.replaceWith.apply(t,r.Subjects),i<n.Subjects.length-1&&(r=new g(e))})):this.Subjects[0].replaceWith.apply(this.Subjects[0],r.Subjects):this.remove()}},t.prototype.remove=function(){return 0===this.Subjects.length||this.Subjects.forEach((function(t){t.remove()})),this},t.prototype.prop=function(t,e){return void 0===e?0===this.Subjects.length?void 0:this.Subjects[0][t]:(this.Subjects.forEach((function(n){n[t]=e})),this)},t.prototype.hasProp=function(t){return 0!==this.Subjects.length&&t in this.Subjects[0]},t.prototype.removeProp=function(t){return this.Subjects.forEach((function(e){delete e[t]})),this},t.prototype.data=function(t,e){return void 0===e?0===this.Subjects.length||null==this.Subjects[0]._data?void 0:this.Subjects[0]._data[t]:(this.Subjects.forEach((function(n){null==n._data&&(n._data=Object.create(null)),n._data[t]=e})),this)},t.prototype.hasData=function(t){return this.Subjects.length>0&&null!=this.Subjects[0]._data&&t in this.Subjects[0]._data},t.prototype.removeData=function(t){return this.Subjects.forEach((function(e){null!=e._data&&delete e._data[t]})),this},t.prototype.attr=function(t,e){if(void 0===e){if(0===this.Subjects.length)return;var n=this.Subjects[0].getAttribute(t);return null===n?void 0:n}return null===e?this.removeAttr(t):(this.Subjects.forEach((function(n){n.setAttribute(t,e)})),this)},t.prototype.hasAttr=function(t){return 0!==this.Subjects.length&&this.Subjects[0].hasAttribute(t)},t.prototype.removeAttr=function(t){return this.Subjects.forEach((function(e){e.removeAttribute(t)})),this},t.prototype.val=function(t){if(void 0===t){if(0===this.Subjects.length)return;var e=this.Subjects[0].value;return null===e?void 0:e}return this.Subjects.forEach((function(e){e.value=t})),this},t.prototype.css=function(t,e){if(void 0!==e){if("string"==typeof t){var n=h(t);return this.Subjects.forEach((function(t){t instanceof HTMLElement&&(t.style[n]=e)})),this}throw new TypeError("single attribute name expected")}var r;switch(!0){case"string"==typeof t:if(0===this.Subjects.length)return;return(r=window.getComputedStyle(this.Subjects[0]))[h(t)];case u(t):if(0===this.Subjects.length)return;r=window.getComputedStyle(this.Subjects[0]);var i={};return t.forEach((function(t){i[t]=r[h(t)]})),i;default:if(0===this.Subjects.length)return this;var o=function(n){t.hasOwnProperty(n)&&(e=t[n],n=h(n),s.Subjects.forEach((function(t){t instanceof HTMLElement&&(t.style[n]=e)})))},s=this;for(var c in t)o(c);return this}},t.prototype.html=function(t){return void 0===t?0===this.Subjects.length?void 0:this.Subjects[0].innerHTML:(null===t&&(t=""),this.Subjects.forEach((function(e){e.innerHTML=t})),this)},t.prototype.text=function(t){return void 0===t?0!==this.Subjects.length&&this.Subjects[0]instanceof HTMLElement?this.Subjects[0].innerText:void 0:(null===t&&(t=""),this.Subjects.forEach((function(e){e instanceof HTMLElement&&(e.innerText=t)})),this)},t.prototype.appendText=function(t){return this.Subjects.forEach((function(e){e.insertAdjacentText("beforeend",t)})),this},t.prototype.prependText=function(t){return this.Subjects.forEach((function(e){e.insertAdjacentText("afterbegin",t)})),this},t.prototype.on=function(t,e,n,r){return 0===this.Subjects.length?this:this._registerEventHandler(t,e,n,r)},t.prototype.once=function(t,e,n,r){return 0===this.Subjects.length?this:this._registerEventHandler(t,e,n,r,"once")},t.prototype._registerEventHandler=function(t,e,n,r,o){var s=c(arguments).slice(1);if(""===(t=t.trim().replace(/\s+/g," ")))return this;var u=i(s[0])?s.shift().trim():null==s[0]&&s.shift()||"",a="function"==typeof s[1]?s.shift():void 0;return r=s.shift(),this.__registerEventHandler(t,u,a,r,o)},t.prototype.__registerEventHandler=function(t,e,n,r,i){var o,u=this;function c(t){switch(e){case"":break;case"@this":if(t.target!==t.currentTarget)return;break;default:if(!t.target.matches(e))return}null!=n&&(t.data=n),i&&new g(t.currentTarget)._unregisterAllEventHandlersMatching(t.type,e,r);var o=[t].concat(t._extraParameters);!1===r.apply(new g(t.currentTarget),o)&&(t.stopPropagation(),t.preventDefault())}if(c.isFor=r,s(t)){var a=t.indexOf("@");o=[t.slice(0,a)],"this"===(e=t.slice(a+1))&&(e="@this")}else o=t.split(" ");return o.forEach((function(t){u.Subjects.forEach((function(n){var r=n._EventRegistry;null==r&&(r=n._EventRegistry=Object.create(null));var i=r[t];null==i&&(i=r[t]=Object.create(null));var o=i[e];null==o&&(o=i[e]=[]),o.push(c),n.addEventListener(t,c)}))})),this},t.prototype.off=function(t,e,n){if(0===this.Subjects.length)return this;var r=c(arguments).slice(1);if(""===(t=(t||"").trim().replace(/\s+/g," ")))return this._unregisterAllEventHandlersMatching(),this;var o=i(r[0])?r.shift().trim():null===r[0]?r.shift()||"":void 0;return null==(n=r.shift())?(this._unregisterAllEventHandlersMatching(t,o),this):(this._unregisterAllEventHandlersMatching(t,o,n),this)},t.prototype._unregisterAllEventHandlersMatching=function(t,e,n){var r,i=this;if(s(t)){var o=t.indexOf("@");r=[t.slice(0,o)],e=t.slice(o+1)}else r=null==t?[]:t.split(" ");return this.Subjects.forEach((function(t){var o=t._EventRegistry;if(null!=o){if(0===r.length)for(var s in o)i._unregisterHandlersForEventMatching(t,o,s,e,n);else r.forEach((function(r){i._unregisterHandlersForEventMatching(t,o,r,e,n)}));l(o)&&delete t._EventRegistry}})),this},t.prototype._unregisterHandlersForEventMatching=function(t,e,n,r,i){var o=e[n];if(null!=o){if(null==r)for(var s in o)this._unregisterHandlersForEventSelectorsMatching(t,o,n,s,i);else this._unregisterHandlersForEventSelectorsMatching(t,o,n,r,i);l(o)&&delete e[n]}},t.prototype._unregisterHandlersForEventSelectorsMatching=function(t,e,n,r,i){var o=e[r];null!=o&&(null==i?(o.forEach((function(e){t.removeEventListener(n,e)})),o.length=0):o.every((function(e,r){return e.isFor!==i||(t.removeEventListener(n,e),o.splice(r,1),!1)})),0===o.length&&delete e[r])},t.prototype.waitFor=function(){for(var t=[],o=0;o<arguments.length;o++)t[o]=arguments[o];return e(this,void 0,void 0,(function(){var e,o,s=this;return n(this,(function(n){return e=[],o=-1,0===t.length?[2,0]:(t.forEach((function(t){switch(!0){case i(t):e.push(t);break;case r(t):o=Math.max(0,Math.round(t));break;default:throw new TypeError("event name (with opt. selector) or timeout expected")}})),isFinite(o)||(o=0),[2,new Promise((function(t,n){var r,i,u=s;function c(n){e.forEach((function(t){return u.off(t,c)})),null==n?t(Date.now()-i):(clearTimeout(r),t(n))}e.forEach((function(t){return u.on(t,c)})),o>=0&&(i=Date.now(),r=setTimeout(c,o))}))])}))}))},t.prototype.repeatUntil=function(){for(var t=[],o=0;o<arguments.length;o++)t[o]=arguments[o];return e(this,void 0,void 0,(function(){var o,s,u,c=this;return n(this,(function(a){if(o=[],s=-1,t.forEach((function(t){switch(!0){case i(t):o.push(t);break;case r(t):s=Math.max(0,Math.round(t));break;case"function"==typeof t:u=t;break;default:throw new TypeError("event name (with opt. selector) or timeout or loop body expected")}})),null==u)throw new TypeError("no loop body function given");return isFinite(s)||(s=0),[2,new Promise((function(t,r){return e(c,void 0,void 0,(function(){function e(t){o.forEach((function(t){return i.off(t,e)})),void 0===t?c=Date.now()-l:(clearTimeout(a),c=t)}var i,c,a,l,h,f;return n(this,(function(n){switch(n.label){case 0:i=this,c=void 0,o.forEach((function(t){return i.on(t,e)})),s>=0&&(l=Date.now(),a=setTimeout(e,s)),n.label=1;case 1:n.trys.push([1,6,,7]),n.label=2;case 2:return[4,u()];case 3:void 0!==(h=n.sent())&&(c=h),n.label=4;case 4:if(void 0===c)return[3,2];n.label=5;case 5:return t(c),[3,7];case 6:return f=n.sent(),e(null),r(f),[3,7];case 7:return[2]}}))}))}))]}))}))},t.prototype.HandlersForEvent=function(t){var e=[];if(""===(t=t.trim().replace(/\s+/g," ")))throw new TypeError('no "Event" given');if(/\s/.test(t))throw new TypeError('multiple "Events" given');var n=this.Subjects[0];if(null==n)return e;var r=n._EventRegistry;if(null==r)return e;var i=r[t];if(null==i)return e;for(var o in i)e=e.concat(i[o]);return e},t.prototype.trigger=function(t,e,n){return void 0===n&&(n=!0),0===this.Subjects.length||(i(t)&&(t=new CustomEvent(t,{bubbles:n,cancelable:!0})),null!=e&&(t._extraParameters=u(e)?e.slice():[e]),this.Subjects.reduce((function(e,n){return n.dispatchEvent(t)&&e}),!0))},t.prototype.focus=function(){return this.Subjects.length>0&&this.Subjects[0]instanceof HTMLElement&&this.Subjects[0].focus(),this},t.prototype.blur=function(){return this.Subjects.length>0&&this.Subjects[0]instanceof HTMLElement&&this.Subjects[0].blur(),this},t.prototype.hasFocus=function(){return document.activeElement===this.Subjects[0]},t.prototype.focusedElement=function(){return new g(document.activeElement)},t.prototype.transition=function(t,e){if(0===this.Subjects.length)return this;if(l(t))return this;e=Object.assign({},{delay:"0ms",duration:"400ms",easing:"linear",cleanup:!0},e);var n="";for(var r in t)t.hasOwnProperty(r)&&(n+=(""===n?"":",")+r);var o=i(e.duration)?e.duration:e.duration+"ms",s=i(e.delay)?e.delay:e.delay+"ms";return 1==e.cleanup&&this.Subjects.forEach((function(t){if(t instanceof HTMLElement){var e=window.getComputedStyle(t).transition;t.addEventListener("transitionend",(function(n){t.style.transition=e}),{once:!0})}})),this.Subjects.forEach((function(r){if(r instanceof HTMLElement)for(var i in r.style.transitionProperty=n,r.style.transitionDelay=s,r.style.transitionDuration=o,r.style.transitionTimingFunction=e.easing,t)if(t.hasOwnProperty(i)){var u=t[i],c=h(i);r.style[c]=u}})),this},t._relevantSettings_for_textWidth=["font-family","font-size","font-weight","font-style","font-variant","font-variant-caps","font-variant-numeric","font-variant-alternates","font-variant-ligatures","font-variant-east-asian","font-stretch","font-kerning","font-size-adjust","font-synthesis","font-language-override","white-space","letter-spacing","word-spacing","text-indent","text-transform"],t._relevantSettings_for_textHeight=["font-family","font-size","font-weight","font-style","font-variant","font-variant-caps","font-variant-numeric","font-variant-alternates","font-variant-ligatures","font-variant-east-asian","font-stretch","font-kerning","font-size-adjust","font-synthesis","font-language-override","white-space","letter-spacing","word-spacing","text-indent","text-transform","word-break","line-break","line-height","width"],t}();Object.assign(d.prototype,{renderPositionInViewport:d.prototype.positionInViewport,layoutPositionInParent:d.prototype.positionInParent,layoutPositionOnPage:d.prototype.positionOnPage,layoutWidth:d.prototype.width,layoutHeight:d.prototype.height,outerWidth:d.prototype.width,outerHeight:d.prototype.height});var b="loading"!==document.readyState;b||window.addEventListener("DOMContentLoaded",(function(){b=!0,function(){v=!0;for(var t=0;t<y.length;t++)try{y[t]()}catch(t){console.error('registered dommali "ready" handler failed with ',t)}v=!1}()}));var y=[],v=!1;var g=function(e){function n(t){var r=e.call(this)||this;switch(!0){case null==t:r.Subjects=[];break;case u(t):r.Subjects=t;break;case i(t):if(t.startsWith("<")){var o=document.createElement("template");o.innerHTML=t,r.Subjects=c(o.content.children)}else r.Subjects=c(document.querySelectorAll(p(t)));break;case t instanceof n:r.Subjects=t.Subjects.slice();break;case t instanceof Element:r.Subjects=[t];break;default:throw new TypeError('unsupported "dommali" constructor argument')}return r}return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}(n,e),n}(d);function S(t){switch(!0){case"function"==typeof t:return d.ready(t);case u(t):return new g(c(t));default:return new g(t)}}return Object.assign(S,{ready:d.ready,textWidth:d.textWidth,textHeight:d.textHeight,extraParametersOfEvent:d.extraParametersOfEvent}),new Function("return this")().dommali=S,S}));
//# sourceMappingURL=dommali.umd.js.map
