!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self).dommali=e()}(this,(function(){"use strict";var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};function e(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function u(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,u)}c((r=r.apply(t,e||[])).next())}))}function n(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(o){return function(u){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}}function r(t){return"number"==typeof t||t instanceof Number}function i(t){return"string"==typeof t||t instanceof String}function o(t){return"function"==typeof t}var s=/^[a-z$_][a-z$_0-9]*([-.:][a-z$_0-9]+)*@.*$/i;function u(t){return("string"==typeof t||t instanceof String)&&s.test(t)}var c=Array.isArray;function a(t){return Array.prototype.slice.call(t)}var l=Object.prototype.hasOwnProperty;function h(t){for(var e in t)if(l.call(t,e))return!1;return!0}function f(t){return t.replace(/-[a-z]/gi,(function(t){return t[1].toUpperCase()}))}var p={};function d(t){return t.startsWith("#")?'[id="'+t.slice(1)+'"]':t}var b=function(){function t(){this.Subjects=[]}return t.ready=function(t){return y&&!g?t():v.push(t),this},t.textWidth=function(e,n){if(y){if(null==S._auxiliarySpan){var r=document.createElement("span");r.style.visibility="hidden",document.body.appendChild(r),S._auxiliarySpan=j(r)}var i=S._auxiliarySpan;if(i.css({width:"auto","min-width":0,"max-width":"none",margin:0,padding:0,border:"none",font:"normal","white-space":"normal","letter-spacing":"normal","word-spacing":"normal","text-indent":0,"text-transform":"none"}),n){var o;switch(!0){case"object"==typeof n&&(Object.getPrototypeOf(n)===Object.prototype||null==Object.getPrototypeOf(n)):o=n;break;case n instanceof t:case n instanceof Element:o=window.getComputedStyle(j(n).subject(0));break;default:throw new TypeError("DOMMaLi instance, HTML element or settings expected")}S._relevantSettings_for_textWidth.forEach((function(t){var e=o[t];null!=e&&i.css(t,e)}))}return i.text(e).width()}return NaN},t.textHeight=function(e,n){if(y){if(null==S._auxiliaryDiv){var r=document.createElement("div");r.style.visibility="hidden",document.body.appendChild(r),S._auxiliaryDiv=j(r)}var i=S._auxiliaryDiv;if(i.css({width:"auto","min-width":0,"max-width":"none",margin:0,padding:0,border:"none",font:"normal","white-space":"normal","letter-spacing":"normal","word-spacing":"normal","text-indent":0,"text-transform":"none"}),n){var o;switch(!0){case"object"==typeof n&&(Object.getPrototypeOf(n)===Object.prototype||null==Object.getPrototypeOf(n)):o=n;break;case n instanceof t:case n instanceof Element:o=window.getComputedStyle(j(n).subject(0));break;default:throw new TypeError("DOMMaLi instance, HTML element or settings expected")}S._relevantSettings_for_textHeight.forEach((function(t){var e=o[t];null!=e&&i.css(t,e)}))}return i.text(e).height()}return NaN},t.extraParametersOfEvent=function(t){var e=t._extraParameters;return Array.isArray(e)?e.slice():[]},Object.defineProperty(t.prototype,"length",{get:function(){return this.Subjects.length},enumerable:!1,configurable:!0}),t.prototype.size=function(){return this.Subjects.length},t.prototype.isEmpty=function(){return 0===this.Subjects.length},t.prototype.subjects=function(){return this.Subjects.slice()},t.prototype.subject=function(t){return this.Subjects[t]},t.prototype.indexOf=function(e){return e instanceof t&&null==(e=e.Subjects[0])?-1:this.Subjects.indexOf(e)},t.prototype.slice=function(t,e){return new S(this.Subjects.slice(t,e))},t.prototype.first=function(){return new S(this.Subjects[0])},t.prototype.last=function(){return new S(this.Subjects[this.Subjects.length-1])},t.prototype.eq=function(t){return new S(this.Subjects[t])},t.prototype.forEach=function(t){var e=this;return this.Subjects.forEach((function(n,r){t(new S(n),r,e)})),this},t.prototype.filter=function(t){var e=this;return new S("function"==typeof t?this.Subjects.filter((function(n,r){return t(new S(n),r,e)})):this.Subjects.filter((function(e){return e.matches(d(t))})))},t.prototype.tagName=function(){return 0===this.Subjects.length?void 0:this.Subjects[0].tagName.toLowerCase()},t.prototype.matches=function(t){return this.Subjects.every((function(e){return e.matches(d(t))}))},t.prototype.is=function(t){switch(!0){case i(t):return this.matches(d(t));case t instanceof S:var e=t;return this.Subjects.length===e.Subjects.length&&this.Subjects.every((function(t,n){return e.Subjects[n]===t}));case t instanceof Element:return 1===this.Subjects.length&&this.Subjects[0]===t;default:return!1}},t.prototype.find=function(t){return new S(0===this.Subjects.length?void 0:a(this.Subjects[0].querySelectorAll(d(t))))},t.prototype.findFirst=function(t){return new S(0===this.Subjects.length?void 0:this.Subjects[0].querySelector(d(t)))},t.prototype.parent=function(){return new S(0===this.Subjects.length?void 0:this.Subjects[0].parentElement)},t.prototype.closest=function(t){return new S(0===this.Subjects.length?void 0:this.Subjects[0].closest(d(t)))},t.prototype.isAttached=function(){return 0!==this.Subjects.length&&document.contains(this.Subjects[0])},t.prototype.contains=function(t){var e=this;return 0!==this.Subjects.length&&0!==t.Subjects.length&&t.Subjects.every((function(t){return e.Subjects[0].contains(t)}))},t.prototype.children=function(t){var e=0===this.Subjects.length?[]:a(this.Subjects[0].children);return null!=t&&(e=e.filter((function(e){return e.matches(d(t))}))),new S(e)},t.prototype.firstChild=function(t){return 0===this.Subjects.length?new S:new S(null==t?this.Subjects[0].firstElementChild:a(this.Subjects[0].children).find((function(e){return e.matches(d(t))})))},t.prototype.lastChild=function(t){if(0===this.Subjects.length)return new S;if(null==t)return new S(this.Subjects[0].lastElementChild);for(var e=a(this.Subjects[0].children),n=e.length-1;n>=0;n--)if(e[n].matches(d(t)))return new S(e[n]);return new S},t.prototype.prev=function(t){if(0===this.Subjects.length)return new S;if(null==t)return new S(this.Subjects[0].previousElementSibling);for(var e=this.Subjects[0].previousElementSibling;null!=e;){if(e.matches(d(t)))return new S(e);e=e.previousElementSibling}return new S},t.prototype.next=function(t){if(0===this.Subjects.length)return new S;if(null==t)return new S(this.Subjects[0].nextElementSibling);for(var e=this.Subjects[0].nextElementSibling;null!=e;){if(e.matches(d(t)))return new S(e);e=e.nextElementSibling}return new S},t.prototype.positionInViewport=function(){if(0!==this.Subjects.length){var t=this.Subjects[0].getBoundingClientRect();return{left:t.left,top:t.top}}},t.prototype.positionInParent=function(){if(0!==this.Subjects.length&&null!=this.Subjects[0].parentElement&&this.Subjects[0]instanceof HTMLElement){var t=this.Subjects[0];return t instanceof HTMLElement?{left:t.offsetLeft,top:t.offsetTop}:void 0}},t.prototype.positionOnPage=function(){if(0!==this.Subjects.length){var t=this.Subjects[0].getBoundingClientRect();return{left:t.left+document.body.scrollLeft,top:t.top+document.body.scrollTop}}},t.prototype.width=function(t){if(void 0===t){var e=this.Subjects[0];return e instanceof HTMLElement?e.offsetWidth:void 0}return this.Subjects.forEach((function(e){e instanceof HTMLElement&&(e.style.width=t+"px")})),this},t.prototype.height=function(t){if(void 0===t){var e=this.Subjects[0];return e instanceof HTMLElement?e.offsetHeight:void 0}return this.Subjects.forEach((function(e){e instanceof HTMLElement&&(e.style.height=t+"px")})),this},t.prototype.innerWidth=function(){return 0===this.Subjects.length?void 0:this.Subjects[0].clientWidth},t.prototype.innerHeight=function(){return 0===this.Subjects.length?void 0:this.Subjects[0].clientHeight},t.prototype.renderWidth=function(){return 0===this.Subjects.length?void 0:this.Subjects[0].getBoundingClientRect().width},t.prototype.renderHeight=function(){return 0===this.Subjects.length?void 0:this.Subjects[0].getBoundingClientRect().height},t.prototype.scrollLeft=function(t){return void 0===t?0===this.Subjects.length?void 0:this.Subjects[0].scrollLeft:(this.Subjects.forEach((function(e){e.scrollLeft=t})),this)},t.prototype.scrollTop=function(t){return void 0===t?0===this.Subjects.length?void 0:this.Subjects[0].scrollTop:(this.Subjects.forEach((function(e){e.scrollTop=t})),this)},t.prototype.scrollWidth=function(){return 0===this.Subjects.length?void 0:this.Subjects[0].scrollWidth},t.prototype.scrollHeight=function(){return 0===this.Subjects.length?void 0:this.Subjects[0].scrollHeight},t.prototype.scrollTo=function(t,e,n){void 0===n&&(n="auto");var r={left:t,top:e,behavior:n};return this.Subjects.forEach((function(t){t.scrollTo(r)})),this},t.prototype.show=function(){return this.Subjects.forEach((function(t){if(t instanceof HTMLElement){var e=getComputedStyle(t);if("none"!==e.display)return;null!=t._preservedDisplay&&(t.style.display=t._preservedDisplay),"none"===e.display&&(t.style.display=function(t){if(t in p)return p[t];var e=document.createElement(t);document.body.appendChild(e);var n=getComputedStyle(e).display;return"none"===n&&(n="block"),p[t]=n,document.body.removeChild(e),n}(t.tagName))}})),this},t.prototype.hide=function(){return this.Subjects.forEach((function(t){if(t instanceof HTMLElement){if("none"===getComputedStyle(t).display)return;t._preservedDisplay=t.style.display,t.style.display="none"}})),this},t.prototype.hasClass=function(t){if(0===this.Subjects.length)return!1;if(""===(t=t.trim().replace(/\s+/g," ")))return!1;var e=this.Subjects[0].classList;return t.split(" ").every((function(t){return e.contains(t)}))},t.prototype.addClass=function(t){return this._processClasses(t,"add")},t.prototype.toggleClass=function(t){return this._processClasses(t,"toggle")},t.prototype.removeClass=function(t){return this._processClasses(t,"remove")},t.prototype._processClasses=function(t,e){if(0===this.Subjects.length)return this;if(""===(t=t.trim().replace(/\s+/g," ")))return this;var n=t.split(" ");return this.Subjects.forEach((function(t){var r=t.classList;n.forEach((function(t){return r[e](t)}))})),this},t.prototype.append=function(t){return this._insert(t,"append")},t.prototype.prepend=function(t){return this._insert(t,"prepend")},t.prototype.insertAfter=function(t){return t._insert(this,"after"),this},t.prototype.insertBefore=function(t){return t._insert(this,"before"),this},t.prototype._insert=function(e,n){var r=this;if(0===this.Subjects.length)return this;var o=e instanceof t?e:new S(e);return 0===o.Subjects.length||(i(e)&&e.startsWith("<")?this.Subjects.forEach((function(t,i){t[n].apply(t,o.Subjects),i<r.Subjects.length-1&&(o=new S(e))})):this.Subjects[0][n].apply(this.Subjects[0],o.Subjects)),this},t.prototype.replaceWith=function(e){var n=this;if(0!==this.Subjects.length){var r=e instanceof t?e:new S(e);0!==r.Subjects.length?i(e)&&e.startsWith("<")?this.Subjects.forEach((function(t,i){t.replaceWith.apply(t,r.Subjects),i<n.Subjects.length-1&&(r=new S(e))})):this.Subjects[0].replaceWith.apply(this.Subjects[0],r.Subjects):this.remove()}},t.prototype.remove=function(){return 0===this.Subjects.length||this.Subjects.forEach((function(t){t.remove()})),this},t.prototype.prop=function(t,e){return void 0===e?0===this.Subjects.length?void 0:this.Subjects[0][t]:(this.Subjects.forEach((function(n){n[t]=e})),this)},t.prototype.hasProp=function(t){return 0!==this.Subjects.length&&t in this.Subjects[0]},t.prototype.removeProp=function(t){return this.Subjects.forEach((function(e){delete e[t]})),this},t.prototype.data=function(t,e){return void 0===e?0===this.Subjects.length||null==this.Subjects[0]._data?void 0:this.Subjects[0]._data[t]:(this.Subjects.forEach((function(n){null==n._data&&(n._data=Object.create(null)),n._data[t]=e})),this)},t.prototype.hasData=function(t){return this.Subjects.length>0&&null!=this.Subjects[0]._data&&t in this.Subjects[0]._data},t.prototype.removeData=function(t){return this.Subjects.forEach((function(e){null!=e._data&&delete e._data[t]})),this},t.prototype.attr=function(t,e){if(void 0===e){if(0===this.Subjects.length)return;var n=this.Subjects[0].getAttribute(t);return null===n?void 0:n}return null===e?this.removeAttr(t):(this.Subjects.forEach((function(n){n.setAttribute(t,e)})),this)},t.prototype.hasAttr=function(t){return 0!==this.Subjects.length&&this.Subjects[0].hasAttribute(t)},t.prototype.removeAttr=function(t){return this.Subjects.forEach((function(e){e.removeAttribute(t)})),this},t.prototype.val=function(t){if(void 0===t){if(0===this.Subjects.length)return;var e=this.Subjects[0].value;return null===e?void 0:e}return this.Subjects.forEach((function(e){e.value=t})),this},t.prototype.css=function(t,e){if(void 0!==e){if("string"==typeof t){var n=f(t);return this.Subjects.forEach((function(t){t instanceof HTMLElement&&(t.style[n]=e)})),this}throw new TypeError("single attribute name expected")}var r;switch(!0){case"string"==typeof t:if(0===this.Subjects.length)return;return(r=window.getComputedStyle(this.Subjects[0]))[f(t)];case c(t):if(0===this.Subjects.length)return;r=window.getComputedStyle(this.Subjects[0]);var i={};return t.forEach((function(t){i[t]=r[f(t)]})),i;default:if(0===this.Subjects.length)return this;var o=function(n){t.hasOwnProperty(n)&&(e=t[n],n=f(n),s.Subjects.forEach((function(t){t instanceof HTMLElement&&(t.style[n]=e)})))},s=this;for(var u in t)o(u);return this}},t.prototype.html=function(t){return void 0===t?0===this.Subjects.length?void 0:this.Subjects[0].innerHTML:(null===t&&(t=""),this.Subjects.forEach((function(e){e.innerHTML=t})),this)},t.prototype.text=function(t){return void 0===t?0!==this.Subjects.length&&this.Subjects[0]instanceof HTMLElement?this.Subjects[0].innerText:void 0:(null===t&&(t=""),this.Subjects.forEach((function(e){e instanceof HTMLElement&&(e.innerText=t)})),this)},t.prototype.appendText=function(t){return this.Subjects.forEach((function(e){e.insertAdjacentText("beforeend",t)})),this},t.prototype.prependText=function(t){return this.Subjects.forEach((function(e){e.insertAdjacentText("afterbegin",t)})),this},t.prototype.on=function(t,e,n,r){return 0===this.Subjects.length?this:this._registerEventHandler(t,e,n,r)},t.prototype.once=function(t,e,n,r){return 0===this.Subjects.length?this:this._registerEventHandler(t,e,n,r,"once")},t.prototype._registerEventHandler=function(t,e,n,r,o){var s=a(arguments).slice(1);if(""===(t=t.trim().replace(/\s+/g," ")))return this;var u=i(s[0])?s.shift().trim():null==s[0]&&s.shift()||"",c="function"==typeof s[1]?s.shift():void 0;return r=s.shift(),this.__registerEventHandler(t,u,c,r,o)},t.prototype.__registerEventHandler=function(t,e,n,r,i){var o,s=this;function c(t){switch(e){case"":break;case"@this":if(t.target!==t.currentTarget)return;break;default:if(!t.target.matches(e))return}null!=n&&(t.data=n),i&&new S(t.currentTarget)._unregisterAllEventHandlersMatching(t.type,e,r);var o=[t].concat(t._extraParameters);!1===r.apply(new S(t.currentTarget),o)&&(t.stopPropagation(),t.preventDefault())}if(c.isFor=r,u(t)){var a=t.indexOf("@");o=[t.slice(0,a)],"this"===(e=t.slice(a+1))&&(e="@this")}else o=t.split(" ");return o.forEach((function(t){s.Subjects.forEach((function(n){var r=n._EventRegistry;null==r&&(r=n._EventRegistry=Object.create(null));var i=r[t];null==i&&(i=r[t]=Object.create(null));var o=i[e];null==o&&(o=i[e]=[]),o.push(c),n.addEventListener(t,c)}))})),this},t.prototype.off=function(t,e,n){if(0===this.Subjects.length)return this;var r=a(arguments).slice(1);if(""===(t=(t||"").trim().replace(/\s+/g," ")))return this._unregisterAllEventHandlersMatching(),this;var o=i(r[0])?r.shift().trim():null===r[0]?r.shift()||"":void 0;return null==(n=r.shift())?(this._unregisterAllEventHandlersMatching(t,o),this):(this._unregisterAllEventHandlersMatching(t,o,n),this)},t.prototype._unregisterAllEventHandlersMatching=function(t,e,n){var r,i=this;if(u(t)){var o=t.indexOf("@");r=[t.slice(0,o)],e=t.slice(o+1)}else r=null==t?[]:t.split(" ");return this.Subjects.forEach((function(t){var o=t._EventRegistry;if(null!=o){if(0===r.length)for(var s in o)i._unregisterHandlersForEventMatching(t,o,s,e,n);else r.forEach((function(r){i._unregisterHandlersForEventMatching(t,o,r,e,n)}));h(o)&&delete t._EventRegistry}})),this},t.prototype._unregisterHandlersForEventMatching=function(t,e,n,r,i){var o=e[n];if(null!=o){if(null==r)for(var s in o)this._unregisterHandlersForEventSelectorsMatching(t,o,n,s,i);else this._unregisterHandlersForEventSelectorsMatching(t,o,n,r,i);h(o)&&delete e[n]}},t.prototype._unregisterHandlersForEventSelectorsMatching=function(t,e,n,r,i){var o=e[r];null!=o&&(null==i?(o.forEach((function(e){t.removeEventListener(n,e)})),o.length=0):o.every((function(e,r){return e.isFor!==i||(t.removeEventListener(n,e),o.splice(r,1),!1)})),0===o.length&&delete e[r])},t.prototype.waitFor=function(){for(var t=[],o=0;o<arguments.length;o++)t[o]=arguments[o];return e(this,void 0,void 0,(function(){var e,o,s=this;return n(this,(function(n){return e=[],o=-1,0===t.length?[2,0]:(t.forEach((function(t){switch(!0){case i(t):e.push(t);break;case r(t):o=Math.max(0,Math.round(t));break;default:throw new TypeError("event name (with opt. selector) or timeout expected")}})),isFinite(o)||(o=0),[2,new Promise((function(t,n){var r,i,u=s;function c(n){e.forEach((function(t){return u.off(t,c)})),null==n?t(Date.now()-i):(clearTimeout(r),t(n))}e.forEach((function(t){return u.on(t,c)})),o>=0&&(i=Date.now(),r=setTimeout(c,o))}))])}))}))},t.prototype.repeatUntil=function(){for(var t=[],s=0;s<arguments.length;s++)t[s]=arguments[s];return e(this,void 0,void 0,(function(){var s,u,c,a=this;return n(this,(function(l){if(s=[],u=-1,t.forEach((function(t){switch(!0){case i(t):s.push(t);break;case r(t):u=Math.max(0,Math.round(t));break;case o(t):c=t;break;default:throw new TypeError("event name (with opt. selector) or timeout or loop body expected")}})),null==c)throw new TypeError("no loop body function given");return isFinite(u)||(u=0),[2,new Promise((function(t,r){return e(a,void 0,void 0,(function(){function e(t){s.forEach((function(t){return i.off(t,e)})),void 0===t?o=Date.now()-l:(clearTimeout(a),o=t)}var i,o,a,l,h,f;return n(this,(function(n){switch(n.label){case 0:i=this,o=void 0,s.forEach((function(t){return i.on(t,e)})),u>=0&&(l=Date.now(),a=setTimeout(e,u)),n.label=1;case 1:n.trys.push([1,6,,7]),n.label=2;case 2:return[4,c()];case 3:void 0!==(h=n.sent())&&(o=h),n.label=4;case 4:if(void 0===o)return[3,2];n.label=5;case 5:return t(o),[3,7];case 6:return f=n.sent(),e(null),r(f),[3,7];case 7:return[2]}}))}))}))]}))}))},t.prototype.HandlersForEvent=function(t){var e=[];if(""===(t=t.trim().replace(/\s+/g," ")))throw new TypeError('no "Event" given');if(/\s/.test(t))throw new TypeError('multiple "Events" given');var n=this.Subjects[0];if(null==n)return e;var r=n._EventRegistry;if(null==r)return e;var i=r[t];if(null==i)return e;for(var o in i)e=e.concat(i[o]);return e},t.prototype.trigger=function(t,e,n){return void 0===n&&(n=!0),0===this.Subjects.length||(i(t)&&(t=new CustomEvent(t,{bubbles:n,cancelable:!0})),null!=e&&(t._extraParameters=c(e)?e.slice():[e]),this.Subjects.reduce((function(e,n){return n.dispatchEvent(t)&&e}),!0))},t.prototype.focus=function(){return this.Subjects.length>0&&this.Subjects[0]instanceof HTMLElement&&this.Subjects[0].focus(),this},t.prototype.blur=function(){return this.Subjects.length>0&&this.Subjects[0]instanceof HTMLElement&&this.Subjects[0].blur(),this},t.prototype.hasFocus=function(){return document.activeElement===this.Subjects[0]},t.prototype.focusedElement=function(){return new S(document.activeElement)},t.prototype.transition=function(t,e){if(0===this.Subjects.length)return this;if(h(t))return this;e=Object.assign({},{delay:"0ms",duration:"400ms",easing:"linear",cleanup:!0},e);var n="";for(var r in t)t.hasOwnProperty(r)&&(n+=(""===n?"":",")+r);var o=i(e.duration)?e.duration:e.duration+"ms",s=i(e.delay)?e.delay:e.delay+"ms";return 1==e.cleanup&&this.Subjects.forEach((function(t){if(t instanceof HTMLElement){var e=window.getComputedStyle(t).transition;t.addEventListener("transitionend",(function(n){t.style.transition=e}),{once:!0})}})),this.Subjects.forEach((function(r){if(r instanceof HTMLElement)for(var i in r.style.transitionProperty=n,r.style.transitionDelay=s,r.style.transitionDuration=o,r.style.transitionTimingFunction=e.easing,t)if(t.hasOwnProperty(i)){var u=t[i],c=f(i);r.style[c]=u}})),this},t._relevantSettings_for_textWidth=["font-family","font-size","font-weight","font-style","font-variant","font-variant-caps","font-variant-numeric","font-variant-alternates","font-variant-ligatures","font-variant-east-asian","font-stretch","font-kerning","font-size-adjust","font-synthesis","font-language-override","white-space","letter-spacing","word-spacing","text-indent","text-transform"],t._relevantSettings_for_textHeight=["font-family","font-size","font-weight","font-style","font-variant","font-variant-caps","font-variant-numeric","font-variant-alternates","font-variant-ligatures","font-variant-east-asian","font-stretch","font-kerning","font-size-adjust","font-synthesis","font-language-override","white-space","letter-spacing","word-spacing","text-indent","text-transform","word-break","line-break","line-height","width"],t}();Object.assign(b.prototype,{renderPositionInViewport:b.prototype.positionInViewport,layoutPositionInParent:b.prototype.positionInParent,layoutPositionOnPage:b.prototype.positionOnPage,layoutWidth:b.prototype.width,layoutHeight:b.prototype.height,outerWidth:b.prototype.width,outerHeight:b.prototype.height});var y="loading"!==document.readyState;y||window.addEventListener("DOMContentLoaded",(function(){y=!0,function(){g=!0;for(var t=0;t<v.length;t++)try{v[t]()}catch(t){console.error('registered dommali "ready" handler failed with ',t)}g=!1}()}));var v=[],g=!1;var S=function(e){function n(t){var r=e.call(this)||this;switch(!0){case null==t:r.Subjects=[];break;case c(t):r.Subjects=t;break;case i(t):if(t.startsWith("<")){var o=document.createElement("template");o.innerHTML=t,r.Subjects=a(o.content.children)}else r.Subjects=a(document.querySelectorAll(d(t)));break;case t instanceof n:r.Subjects=t.Subjects.slice();break;case t instanceof Element:r.Subjects=[t];break;default:throw new TypeError('unsupported "dommali" constructor argument')}return r}return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}(n,e),n}(b);function j(t){switch(!0){case"function"==typeof t:return b.ready(t);case c(t):return new S(a(t));default:return new S(t)}}return Object.assign(j,{ready:b.ready,textWidth:b.textWidth,textHeight:b.textHeight,extraParametersOfEvent:b.extraParametersOfEvent}),new Function("return this")().dommali=j,j}));
//# sourceMappingURL=dommali.js.map
